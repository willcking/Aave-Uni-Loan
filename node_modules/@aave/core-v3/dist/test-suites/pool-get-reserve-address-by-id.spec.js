"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const chai_1 = require("chai");
const make_suite_1 = require("./helpers/make-suite");
const deploy_v3_1 = require("@aave/deploy-v3");
(0, make_suite_1.makeSuite)('Pool: getReservesList', (testEnv) => {
    let snap;
    beforeEach(async () => {
        snap = await (0, deploy_v3_1.evmSnapshot)();
    });
    afterEach(async () => {
        await (0, deploy_v3_1.evmRevert)(snap);
    });
    it('User gets address of reserve by id', async () => {
        const { pool, usdc } = testEnv;
        const reserveData = await pool.getReserveData(usdc.address);
        const reserveAddress = await pool.getReserveAddressById(reserveData.id);
        await (0, chai_1.expect)(reserveAddress).to.be.eq(usdc.address);
    });
    it('User calls `getReservesList` with a wrong id (id > reservesCount)', async () => {
        const { pool } = testEnv;
        // MAX_NUMBER_RESERVES is always greater than reservesCount
        const maxNumberOfReserves = await pool.MAX_NUMBER_RESERVES();
        const reserveAddress = await pool.getReserveAddressById(maxNumberOfReserves + 1);
        await (0, chai_1.expect)(reserveAddress).to.be.eq(deploy_v3_1.ZERO_ADDRESS);
    });
});
